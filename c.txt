import datetime  import requests import json  def get_account_balance(coin):     url = 'https://wallex.ir/api/v1/account/balances'     header = {'WX-ACCESS-KEY': 'nrZW49DRaLJ8makop0Ze3Gj4RbWDlvBMN7w3nBm72gwPrLqdXxQV5nJ9EyA1Y6lEAw2jGmvB'}     temp = requests.get(url=url, headers=header)     result = json.loads(temp.content.decode('utf-8'))     for i in range(len(result)):         if result['result'][i]['asset'] == coin:             eth_available_value = float(result['result'][i]['available_value'])     print(eth_available_value)     return eth_available_value  def get_open_orders():     # response 404 mide     url = 'https://wallex.ir/api/v1/openOrders'     header = {'WX-ACCESS-KEY': 'nrZW49DRaLJ8makop0Ze3Gj4RbWDlvBMN7w3nBm72gwPrLqdXxQV5nJ9EyA1Y6lEAw2jGmvB'}     temp = requests.get(url=url, headers=header)     print(temp)  # # create order # url = 'http://wallex.ir/api/v1/account/orders' # header = {'WX-ACCESS-KEY': 'nrZW49DRaLJ8makop0Ze3Gj4RbWDlvBMN7w3nBm72gwPrLqdXxQV5nJ9EyA1Y6lEAw2jGmvB'} # data = {'side': 'sell', 'type': 'limit', 'quantity': '0.07', 'price': '4000', 'symbol': 'eth-usdt'} # temp = requests.get(url=url, headers=header, data=data) # print(temp) # # # cancel order # url = 'http://wallex.ir/api/v1/account/orders' # header = {'WX-ACCESS-KEY': 'nrZW49DRaLJ8makop0Ze3Gj4RbWDlvBMN7w3nBm72gwPrLqdXxQV5nJ9EyA1Y6lEAw2jGmvB'} # data = {'side': 'sell', 'orderId': ''} # temp = requests.get(url=url, headers=header, data=data) # print(temp)   url = 'https://wallex.ir/api/v1/depth/eth-usdt' # header = {'WX-ACCESS-KEY': 'nrZW49DRaLJ8makop0Ze3Gj4RbWDlvBMN7w3nBm72gwPrLqdXxQV5nJ9EyA1Y6lEAw2jGmvB'} # data = {'side': 'sell', 'type': 'limit', 'quantity': '0.07', 'price': '4000', 'symbol': 'eth-usdt'} # data={'market_key': 'eth-usdt'} start = datetime.datetime.now() for i in range(100):     temp = requests.get(url=url)     result = json.loads(temp.content.decode('utf-8'))     bids = result['result']['bids'][:5]     asks = result['result']['asks'][:5]     # print(bids)     # print(asks) print(datetime.datetime.now() - start)  # get_open_orders() # get_account_balance('ETH')
